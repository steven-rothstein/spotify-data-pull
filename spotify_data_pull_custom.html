<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> </title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
  <style type="text/css">body {margin: auto;padding-right: 5em;padding-left: 5em;color: black;font-size: .95em;line-height: 1.5;hyphens: auto;overflow-wrap: break-word;text-rendering: optimizeLegibility;font-kerning: normal;}body,h1,h2,h3,h4,h5 {font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;}pre {border: .5px solid lightgrey;background-color: #f2f2f2;padding: 0.5em;}code {font-family: monospace;}h1 a,h2 a,h3 a,h4 a,h5 a {text-decoration: none;}h1,h2,h3,h4,h5 {display: block;font-weight: 600;border-bottom: .5px solid darkgray;}h1 {font-size: 1.75em;}h2 {font-size: 1.5em;}h3 {font-size: 1.3em;}h4 {font-size: 1.2em;}h5 {font-size: 1.1em;}h1.title {font-size: 5em;text-align: center;border: none;}table {border-collapse: collapse;display: block;overflow-x: auto;border: none;text-align: right;}table,th,td,table+p {font-size: .88em;font-family: Arial, Helvetica, sans-serif;border: none;}th,td {padding: .3em;}thead th {border-bottom: 1px solid lightgray;}tr:nth-child(even) {background-color: #f2f2f2;}tr:hover {background-color: lightblue;}table.dataframe thead tr:hover th {background-color: white;}li>p {margin: .1em;}#TOC a {text-decoration: none;color: black;}#TOC ul {padding-left: 3em;}#TOC>ul {padding-left: 0;}#TOC li {list-style: none;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<div id="871dd557" class="cell markdown">
<h1 id="a-brief-analysis-of-a-spotify-users-liked-songs-playlist">A
Brief Analysis of A Spotify User&#39;s &quot;Liked Songs&quot; Playlist</h1>
<p>This notebook is meant to give an example of how Spotify users can
download and inspect their data.</p>
<p>In this instance, the configured user from the YAML file is logged in
via Selenium to authenticate the OAuth 2.0 interaction. Then, the user&#39;s
liked songs are donwloaded, and a variety of analyses ensue. Other API
calls are made to inspect various API offerings along the way as
well.</p>
<p>Finally, some cleaned and aggregated data are saved into flat files
for use in other visualization platforms. Please see the README for a
full dictionary.</p>
<p>In this notebook, outputs&#39; artist and track names can be hashed for
privacy purposes. These lines can easily be commented in/out, and are
notated within the code itself. Where displayed, IDs are left as-is if
readers really want to go to the proper lengths to explore the example
user&#39;s liked songs ðŸ™‚</p>
</div>
<div id="8edef27c" class="cell markdown">
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#locallibrarysetup">Local Library Setup</a>
<ul>
<li><a href="#packageimports">Package Imports</a></li>
<li><a href="#displaypreferences">Display Preferences</a></li>
<li><a href="#functions">Functions</a>
<ul>
<li><a href="#generaldatacleansing">General Data Cleansing</a></li>
<li><a href="#spotifyspecificfunctions">Spotify-Specific
Functions</a></li>
</ul></li>
</ul></li>
<li><a href="#scriptstart">Script Start</a>
<ul>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#selenium">Selenium-Based OAuth 2.0 Authentication</a></li>
<li><a href="#bearertokenretrieval">Bearer Token Retrieval</a></li>
</ul></li>
<li><a href="#obtainlikedtrackdetails">Obtain &quot;Liked&quot; Track
Details</a></li>
<li><a href="#timeline">Timeline of When Tracked Are Liked</a></li>
<li><a href="#additionalapiexploration">Additional API Exploration</a>
<ul>
<li><a href="#longtermtoptracks">Long Term Top Tracks</a></li>
<li><a href="#followedartists">Followed Artists</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="0352a67a" class="cell markdown">
<h2 id="local-library-set-up-">Local Library Set Up
<a name="locallibrarysetup"></a></h2>
<p>This section imports packages, sets display preferences, and defines
functions.</p>
</div>
<div id="a0c4f5e5" class="cell markdown">
<h3 id="package-imports-">Package Imports
<a name="packageimports"></a></h3>
<p><code>json</code>, <code>requests</code>, <code>jmespath</code>, and
<code>base64</code> handle making API requests and analyzing the
responses.</p>
<p><code>yaml</code> is used strictly for configuration files. See the
README for usage instructions.</p>
<p>The <code>ipywdigets</code> package is used to dislpay a live
progress bar for heavier API requests.</p>
<p><code>numpy</code>, <code>matplotlib.pyplot</code>, and
<code>pandas</code> are crucial to quickly analyize, transform, and
visualize data.</p>
<p><code>selenium</code> and <code>webdriver_manager.chrome</code> are
needed to input the Spotify user credentials into the app to
authenticate the interaction via Oauth 2.0.</p>
<p>Lastly, the <code>time</code> package allows for a brief seconds-long
pause to ensure web interactions complete successfully before processing
continues.</p>
</div>
<div id="1301b4ea" class="cell code" data-execution_count="53">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> jmespath</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> base64</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> yaml</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ipywidgets <span class="im">as</span> widgets</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.chrome.service <span class="im">import</span> Service</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> webdriver_manager.chrome <span class="im">import</span> ChromeDriverManager</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span></code></pre></div>
</div>
<div id="4fad92f0" class="cell markdown">
<h3 id="display-preferences-">Display Preferences
<a name="displaypreferences"></a></h3>
<p>The number of columns was not restricted to inspect all of the data&#39;s
fields in this application. Additionally, a large amount of rows to
display helped achieve this same goal.</p>
</div>
<div id="56776443" class="cell code" data-execution_count="54">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="va">None</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_rows&#39;</span>, <span class="dv">600</span>)</span></code></pre></div>
</div>
<div id="e7612f9a" class="cell markdown">
<h3 id="functions-">Functions <a name="functions"></a></h3>
<p>This section defines all of the custom functions needed throughout
the script.</p>
</div>
<div id="5fab2bad" class="cell markdown">
<h4 id="general-data-cleansing-">General Data Cleansing
<a name="generaldatacleansing"></a></h4>
<p>These functions are not unique to Spotify purposes.</p>
</div>
<div id="5b4c794e" class="cell code" data-execution_count="55">
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A field of JSON from a row of data is converted to its own dataframe</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># In addtion, the unique id columns from its source are appended on as the first columns.</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Args:</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># pd_series is a row of data from a pandas DataFrame.</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># id_names is either a string of the id column&#39;s name, or a list of strings of the id columns&#39; names.</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># json_col_to_parse is the name of the JSON column to convert to a DataFrame.</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> assign_id_and_parse(pd_series, id_names, json_col_to_parse):</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert to a list if not one already</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    id_names <span class="op">=</span> id_names <span class="cf">if</span> <span class="bu">isinstance</span>(id_names, <span class="bu">list</span>) <span class="cf">else</span> [id_names]</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the nested lists of dictionaries to a DataFrame</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    retVal <span class="op">=</span> pd.DataFrame(pd_series[json_col_to_parse])</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Insert the current ID as the first column, going backwards through the list.</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> curr_id_name <span class="kw">in</span> id_names[::<span class="op">-</span><span class="dv">1</span>]:</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        retVal.insert(<span class="dv">0</span>, curr_id_name, pd_series[curr_id_name])</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> retVal</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># This function takes a DataFrame and parses a column, for which each row is JSON.</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Each JSON value is converted to its own DataFrame.</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># In addtion, for each new DataFrame, the unique id columns from its source are appended on as the first columns.</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Finally, the resultant DataFrames are unioned together and returned.</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Args:</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># df is the DataFrame to parse</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># id_col_names is either a string of the id column&#39;s name, or a list of strings of the id columns&#39; names.</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># json_col_name is the name of the JSON column to convert to a DataFrame.</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_json_col_to_dataframe_with_key(df, id_col_names, json_col_name):</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    retVal_list <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Go through all rows, parse the JSON, assign the unique ID(s). Union the results.</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, df_row <span class="kw">in</span> df.iterrows():</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>        retVal_list.append(assign_id_and_parse(df_row, id_col_names, json_col_name))</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.concat(retVal_list).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span></code></pre></div>
</div>
<div id="b70aadb6" class="cell markdown">
<h4 id="spotify-specifc-functions-">Spotify-Specifc Functions
<a name="spotifyspecificfunctions"></a></h4>
<p>These fuctions are specific to interacting with the Spotify API.</p>
</div>
<div id="7340941b" class="cell code" data-execution_count="56">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convenience function to write a pandas DataFrame into the data_out folder of the project setup.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Args:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># pd_df is the pandas DataFrame</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filename is the name for the new file to write</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> spotify_write_df_to_data_out_csv(pd_df, filename):</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    pd_df.to_csv(<span class="ss">f&#39;data_out/</span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">.csv&#39;</span>, index <span class="op">=</span> <span class="va">False</span>)</span></code></pre></div>
</div>
<div id="de30c05f" class="cell code" data-execution_count="57">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convenience function to call the Spotify API</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Args:</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># access_token: the token retrieved through Oauth 2.0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># endpoint: the Spotify endpoint to hit</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># content_type: a string of the value to pass to the API Content-Type header</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># query: a dictionary of key value pairs to send via the API. Defaulted to an empty dictionary if not needed.</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># max_parse_level: passed to pd.normalize and controls how JSON is flattened. The default, 0, ensures max flattening.</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># base_obj: a string to pass if the returned JSON is wrapped in a tag. Used to filter out the tag for parsing efficiency.</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> spotify_get_all_results(access_token <span class="op">\</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                            , endpoint <span class="op">\</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                            , content_type <span class="op">\</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                            , query <span class="op">=</span> {} <span class="op">\</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                            , max_parse_level <span class="op">=</span> <span class="dv">0</span> <span class="op">\</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                            , base_obj <span class="op">=</span> <span class="va">None</span>):</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Header setup</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    api_call_headers <span class="op">=</span> {</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;Authorization&#39;</span>: <span class="st">&#39;Bearer &#39;</span> <span class="op">+</span> access_token,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;Content-Type&#39;</span>: content_type</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Variable setup for loop to get all results</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    next_api_url <span class="op">=</span> endpoint</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    first_call <span class="op">=</span> <span class="va">True</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    retVal_list <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Loop through the API-provided next endpoints until no more exist. Union the results.</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> next_api_url <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:        </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTTP GET</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># raise_for_status() will stop execution on this fatal error.</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        api_request <span class="op">=</span> requests.get(next_api_url, headers <span class="op">=</span> api_call_headers, params <span class="op">=</span> query <span class="cf">if</span> first_call <span class="cf">else</span> {})</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        api_request.raise_for_status()</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Get the repsonse in JSON</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        api_request_json <span class="op">=</span> api_request.json()</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Filter out the base_obj if it exists</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> base_obj <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Too simple for JMESPath...</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>            <span class="co"># </span><span class="al">TODO</span><span class="co"> convert to JMESPath if more complex use cases arise</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>            api_request_json <span class="op">=</span> api_request_json[base_obj]</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If the first call, determine how many pages of data the API will have to retrieve.</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Use this calculation to create a progress bar to display.</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> first_call:</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>            num_pages <span class="op">=</span> <span class="bu">int</span>(np.ceil(api_request_json[<span class="st">&#39;total&#39;</span>] <span class="op">/</span> api_request_json[<span class="st">&#39;limit&#39;</span>]))</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>            desc_style <span class="op">=</span> {<span class="st">&#39;description_width&#39;</span>: <span class="st">&#39;initial&#39;</span>}</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>            api_request_loading_bar <span class="op">=</span> widgets.IntProgress(value <span class="op">=</span> <span class="dv">0</span> <span class="op">\</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>                                                            , <span class="bu">min</span> <span class="op">=</span> <span class="dv">0</span> <span class="op">\</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>                                                            , <span class="bu">max</span> <span class="op">=</span> num_pages <span class="op">\</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>                                                            , description <span class="op">=</span> <span class="st">&#39;Loading:&#39;</span> \</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>                                                            , bar_style <span class="op">=</span> <span class="st">&#39;success&#39;</span> \</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>                                                            , orientation<span class="op">=</span><span class="st">&#39;horizontal&#39;</span> \</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>                                                            , style <span class="op">=</span> desc_style<span class="op">\</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>                                                           )</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>            first_call <span class="op">=</span> <span class="va">False</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>            display(api_request_loading_bar)</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Get the next endpoint to call, and convert the current JSON response to a DataFrame.</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>        next_api_url <span class="op">=</span> api_request_json[<span class="st">&#39;next&#39;</span>]</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>        retVal_list.append(pd.json_normalize(api_request_json[<span class="st">&#39;items&#39;</span>], max_level <span class="op">=</span> max_parse_level))</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Update the progress bar</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>        api_request_loading_bar.value <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> api_request_loading_bar.value <span class="op">&lt;</span> num_pages:</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>            api_request_loading_bar.description <span class="op">=</span> <span class="ss">f&#39;Loading Page: </span><span class="sc">{</span>api_request_loading_bar<span class="sc">.</span>value <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="ss"> of </span><span class="sc">{</span>num_pages<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>    <span class="co"># When processing is complete, stop showing the progress bar</span></span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    api_request_loading_bar.layout.display <span class="op">=</span> <span class="st">&#39;none&#39;</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return the unioned result</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.concat(retVal_list).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span></code></pre></div>
</div>
<div id="7528a299" class="cell markdown">
<h2 id="script-start-">Script Start <a name="scriptstart"></a></h2>
<p>The fun begins. Let&#39;s seem some data...</p>
</div>
<div id="26c6127c" class="cell markdown">
<h3 id="authentication-">Authentication
<a name="authentication"></a></h3>
<p>This section encapsulates obtaining the Spotify access token.</p>
</div>
<div id="b6def28f" class="cell markdown">
<h4 id="selenium-based-oauth-20-authentication-">Selenium-Based OAuth
2.0 Authentication <a name="selenium"></a></h4>
<p>This section uses Selenium to authenticate the application via OAuth
2.0. Rather than create a dedicated web app, this Selenium approach was
taken to spend more time with the data than frontend development would
have allowed.</p>
</div>
<div id="b965c1a0" class="cell code" data-execution_count="58">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the web driver</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>driver <span class="op">=</span> webdriver.Chrome(service <span class="op">=</span> Service(ChromeDriverManager().install()))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>spotify_accounts_endpoint <span class="op">=</span> <span class="st">&#39;https://accounts.spotify.com/&#39;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>spotify_api_endpoint <span class="op">=</span> <span class="st">&#39;https://api.spotify.com/v1/&#39;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the app and user credentials from the YAML file</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: this application is meant for local use only.</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Never publish or give out your credentials, or leave them unencrypted in an untrusted location.</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;config/config.yml&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    config_contents <span class="op">=</span> yaml.safe_load(<span class="bu">file</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>config_contents_creds <span class="op">=</span> config_contents[<span class="st">&#39;creds&#39;</span>]</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>client_id <span class="op">=</span> config_contents_creds[<span class="st">&#39;client_id&#39;</span>]</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>client_secret <span class="op">=</span> config_contents_creds[<span class="st">&#39;client_secret&#39;</span>]</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>scopes <span class="op">=</span> <span class="st">&#39;user-read-private user-read-email playlist-read-private user-follow-read user-top-read user-read-recently-played user-library-read&#39;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>redirect_uri <span class="op">=</span> config_contents[<span class="st">&#39;redirect_uri&#39;</span>]</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>oath_token_url <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>spotify_accounts_endpoint<span class="sc">}</span><span class="ss">authorize?client_id=</span><span class="sc">{</span>client_id<span class="sc">}</span><span class="ss">&amp;response_type=code&amp;redirect_uri=</span><span class="sc">{</span>redirect_uri<span class="sc">}</span><span class="ss">&amp;scope=</span><span class="sc">{</span>scopes<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the page and enter the username and password</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>driver.get(oath_token_url)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>username_input <span class="op">=</span> driver.find_element(<span class="st">&#39;id&#39;</span>, <span class="st">&#39;login-username&#39;</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>username_input.send_keys(config_contents_creds[<span class="st">&#39;username&#39;</span>])</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>password_input <span class="op">=</span> driver.find_element(<span class="st">&#39;id&#39;</span>, <span class="st">&#39;login-password&#39;</span>)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>password_input.send_keys(config_contents_creds[<span class="st">&#39;password&#39;</span>])</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>login_button <span class="op">=</span> driver.find_element(<span class="st">&#39;id&#39;</span>, <span class="st">&#39;login-button&#39;</span>)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>login_button.click()</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co"># If needed, click the proper &quot;Accept&quot; button to proceed to the next page</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (driver.current_url.startswith(<span class="ss">f&#39;</span><span class="sc">{</span>spotify_accounts_endpoint<span class="sc">}</span><span class="ss">en/authorize?&#39;</span>)):</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    agree_button <span class="op">=</span> driver.find_element(<span class="st">&#39;xpath&#39;</span>, <span class="st">&#39;//button[@data-testid=&quot;auth-accept&quot;]&#39;</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    agree_button.click()</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Sleep to ensure the page loads</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">2</span>)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Finally, obtain the oauth initial token</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>oauth_initial_token <span class="op">=</span> driver.current_url.replace(<span class="ss">f&#39;</span><span class="sc">{</span>redirect_uri<span class="sc">}</span><span class="ss">/?code=&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Quit out of selenium-based items</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>driver.close()</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>driver.quit()</span></code></pre></div>
</div>
<div id="a667c3ac" class="cell markdown">
<h4 id="bearer-token-retrieval-">Bearer Token Retrieval
<a name="bearertokenretrieval"></a></h4>
<p>In this section, we finally retrieve our Spotify access token.</p>
</div>
<div id="5007ab8a" class="cell code" data-execution_count="59">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up for the API call to retrieve an access token</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>base64_encoding <span class="op">=</span> <span class="st">&#39;ascii&#39;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>content_type_dictionary <span class="op">=</span> {<span class="st">&#39;Content-Type&#39;</span>: <span class="st">&#39;application/x-www-form-urlencoded&#39;</span>}</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Headers with Base64 auth encoding</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>get_bearer_token_headers <span class="op">=</span> {</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Authorization&#39;</span>: <span class="st">&#39;Basic &#39;</span> <span class="op">+</span> <span class="op">\</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                    base64.b64encode(<span class="ss">f&#39;</span><span class="sc">{</span>client_id<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>client_secret<span class="sc">}</span><span class="ss">&#39;</span>.encode(base64_encoding)).decode(base64_encoding)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>} <span class="op">|</span> content_type_dictionary</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Payload</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>get_bearer_token_payload <span class="op">=</span> {</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;grant_type&#39;</span>: <span class="st">&#39;authorization_code&#39;</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;code&#39;</span>: oauth_initial_token,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;redirect_uri&#39;</span>: redirect_uri</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co"># HTTP POST</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>get_bearer_token_response <span class="op">=</span> requests.post(<span class="ss">f&#39;</span><span class="sc">{</span>spotify_accounts_endpoint<span class="sc">}</span><span class="ss">api/token&#39;</span> \</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                                          , headers <span class="op">=</span> get_bearer_token_headers <span class="op">\</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>                                          , data <span class="op">=</span> get_bearer_token_payload)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Crash on error (no automated data pipelines to disrupt here...)</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>get_bearer_token_response.raise_for_status()</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the resulting JSON and retrieve your access token!</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>get_bearer_token_response_json <span class="op">=</span> get_bearer_token_response.json()</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>access_token <span class="op">=</span> get_bearer_token_response_json[<span class="st">&#39;access_token&#39;</span>]</span></code></pre></div>
</div>
<div id="83e35362" class="cell markdown">
<h3 id="obtain-liked-track-details-">Obtain &quot;Liked&quot; Track Details
<a name="obtainlikedtrackdetails"></a></h3>
<p>First, we hit the <code>/me/tracks</code> endpoint and clean the
headers, removing &quot;<em>track.</em>&quot; from the field names and renaming
the &quot;<em>id</em>&quot; field to &quot;<em>track_id</em>&quot; for clarity. Next, we
convert the &quot;<em>added_at</em>&quot; field to a proper datetime from a
String.</p>
<p>Finally, we look at the first few rows of data and see what the shape
of the data is.</p>
</div>
<div id="b48263ff" class="cell code" data-execution_count="60">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>track_str <span class="op">=</span> <span class="st">&#39;track&#39;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>track_id_str <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>track_str<span class="sc">}</span><span class="ss">_id&#39;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>added_at_str <span class="op">=</span> <span class="st">&#39;added_at&#39;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>name_str <span class="op">=</span> <span class="st">&#39;name&#39;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># API call happens here</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>my_tracks <span class="op">=</span> spotify_get_all_results(access_token <span class="op">\</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                                    , <span class="ss">f&#39;</span><span class="sc">{</span>spotify_api_endpoint<span class="sc">}</span><span class="ss">me/tracks&#39;</span> \</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                                    , <span class="st">&#39;application/x-www-form-urlencoded&#39;</span> \</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                                    , max_parse_level <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Header and column cleanup</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>my_tracks.columns <span class="op">=</span> my_tracks.columns.<span class="bu">str</span>.replace(<span class="ss">f&#39;</span><span class="sc">{</span>track_str<span class="sc">}</span><span class="ss">.&#39;</span>, <span class="st">&#39;&#39;</span>, regex <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>my_tracks.rename(columns <span class="op">=</span> {<span class="st">&#39;id&#39;</span>: track_id_str}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>my_tracks[added_at_str] <span class="op">=</span> pd.to_datetime(my_tracks[added_at_str])</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment out the following line for personal uses</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># my_tracks[name_str] = my_tracks[name_str].apply(hash)</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co"># display(my_tracks.head())</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_tracks.shape)</span></code></pre></div>
<div class="output display_data">
<div class="sourceCode" id="cb9"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span><span class="dt">&quot;model_id&quot;</span><span class="fu">:</span><span class="st">&quot;df49e8c2b3bc47eb82c463edb2b8ed3a&quot;</span><span class="fu">,</span><span class="dt">&quot;version_major&quot;</span><span class="fu">:</span><span class="dv">2</span><span class="fu">,</span><span class="dt">&quot;version_minor&quot;</span><span class="fu">:</span><span class="dv">0</span><span class="fu">}</span></span></code></pre></div>
</div>
<div class="output stream stdout">
<pre><code>(1291, 18)
</code></pre>
</div>
</div>
<div id="ffdd899b" class="cell markdown">
<p>Create the first CSV file for upload into other applications (see the
README).</p>
</div>
<div id="c300b8b3" class="cell code" data-execution_count="61">
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>spotify_write_df_to_data_out_csv(my_tracks, <span class="st">&#39;track_details_output&#39;</span>)</span></code></pre></div>
</div>
<div id="7207822d" class="cell markdown">
<p>In the track details, artist information is contained with a JSON
field. Here, we unroll that JSON for each row into a DataFrame and add
the corresponding &quot;<em>track_id</em>&quot; for the row. We then inspect the
first few rows and the shape of the data.</p>
</div>
<div id="1e9a1c68" class="cell code" data-execution_count="62">
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>artists_str <span class="op">=</span> <span class="st">&#39;artists&#39;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>track_artists_df <span class="op">=</span> convert_json_col_to_dataframe_with_key(my_tracks, track_id_str, artists_str)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment out the following line for personal uses</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># track_artists_df[name_str] = track_artists_df[name_str].apply(hash)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># display(track_artists_df.head())</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(track_artists_df.shape)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>(1470, 7)
</code></pre>
</div>
</div>
<div id="58bd7691" class="cell markdown">
<p>Create the next CSV file for upload into other applications (see the
README).</p>
</div>
<div id="4e11cd58" class="cell code" data-execution_count="63">
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>spotify_write_df_to_data_out_csv(track_artists_df, <span class="st">&#39;track_artists_output&#39;</span>)</span></code></pre></div>
</div>
<div id="91216193" class="cell markdown">
<p>Next, we see how many liked tracks each artist has and do a quick
plot using <code>matplotlib.pyplot</code> to visualize the top artists
by liked track count.</p>
</div>
<div id="1dc1843c" class="cell code" data-execution_count="64">
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>id_str <span class="op">=</span> <span class="st">&#39;id&#39;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>count_track_id_str <span class="op">=</span> <span class="ss">f&#39;count_</span><span class="sc">{</span>track_id_str<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the DataFrame linking tracks to artists to get the number of tracks liked per artist.</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist <span class="op">=</span> track_artists_df.groupby([id_str, name_str])[track_id_str].count() <span class="op">\</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                                        .to_frame().sort_values(track_id_str, ascending <span class="op">=</span> <span class="va">False</span>) <span class="op">\</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                                        .reset_index().rename(columns <span class="op">=</span> {track_id_str: count_track_id_str})</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>hash_str <span class="op">=</span> <span class="st">&#39;hash&#39;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist[hash_str] <span class="op">=</span> num_tracks_per_artist[name_str].<span class="bu">apply</span>(<span class="bu">hash</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist.head(<span class="dv">5</span>).plot(kind <span class="op">=</span> <span class="st">&#39;bar&#39;</span>, x <span class="op">=</span> hash_str, y <span class="op">=</span> count_track_id_str, rot <span class="op">=</span> <span class="dv">45</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code></pre></div>
<div class="output display_data">
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjgAAAImCAYAAABeqfAdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMywgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/NK7nSAAAACXBIWXMAAA9hAAAPYQGoP6dpAACJN0lEQVR4nOzdd1gUV9sG8HvpvSogFuy9FxSxi73X2HuvRKPYTayJxmg0thhjNInRmDcaNUZjjDX2QhMFFbsCNnpbdp/vDz4mbjTFZGF1uH/XxSWcGZbHHXb25sycczQiIiAiIiJSETNTF0BERERkbAw4REREpDoMOERERKQ6DDhERESkOgw4REREpDoMOERERKQ6DDhERESkOhamLuDf0Ov1ePDgARwdHaHRaExdDhEREf0DIoKkpCR4e3vDzCx3+1jeyIDz4MEDFC1a1NRlEBER0b9w9+5dFClSJFd/xhsZcBwdHQFkP0FOTk4mroaIiIj+icTERBQtWlR5H89Nb2TAybks5eTkxIBDRET0hsmL20t4kzERERGpDgMOERERqQ4DDhEREanOG3kPDhERGYder0dmZqapyyCVsLS0hLm5uanLAMCAQ0SUb2VmZuLmzZvQ6/WmLoVUxMXFBV5eXiafp44Bh4goHxIRPHz4EObm5ihatGiuT7pG6iciSE1NRVxcHACgUKFCJq2HAYeIKB/KyspCamoqvL29YWdnZ+pySCVsbW0BAHFxcfDw8DDp5SpGdiKifEin0wEArKysTFwJqU1OYNZqtSatgwGHiCgfM/V9EqQ+r8vvFAMOERERqQ4DDhEREakObzImIiJF8Wk/5unPu/V+uzz9efnBrVu3UKJECVy6dAnVq1d/5e/XaDTYuXMnOnfunCuPn1fYg0NERPQKbt26BY1Gg+Dg4H/8PYMGDfrTwPC6efjwIdq0aWPqMv4z9uAQERG9JrRaLSwtLU1ag5eXl0l/vrGwB4eIiN4oer0eS5YsQenSpWFtbY1ixYph4cKFAICwsDA0a9YMtra2cHd3x4gRI5CcnKx8b5MmTRAYGGjweJ07d8agQYOUr4sXL45FixZhyJAhcHR0RLFixfDpp58q20uUKAEAqFGjBjQaDZo0afKX9b777rvYvHkzfvjhB2g0Gmg0Ghw5ckTpCdq+fTsaN24MGxsbfP3113jy5Al69+6NwoULw87ODlWqVME333zzj5+DP9LpdBgyZAjKly+PO3fu/N3TC41Gg127dilfnz17FjVq1ICNjQ1q166NS5cu/e1jvA7Yg/MX8vpadG7g9W0iUpvp06djw4YNWL58ORo0aICHDx/i6tWrSElJQatWreDn54dz584hLi4Ow4YNw7hx4/DFF1+80s9YtmwZ5s+fjxkzZuC7777D6NGj0bhxY5QrVw5nz56Fr68vfvnlF1SqVOlv5xJ65513cOXKFSQmJmLTpk0AADc3Nzx48AAAMG3aNCxbtkwJEenp6ahVqxaCgoLg5OSEH3/8Ef3790epUqXg6+v7l8/BH2VkZKB37964desWjh8/joIFC77S85CcnIz27dujRYsW+Oqrr3Dz5k1MnDjxlR7DVBhwiIjojZGUlISPP/4Yn3zyCQYOHAgAKFWqFBo0aIANGzYgPT0dW7Zsgb29PQDgk08+QYcOHfDBBx/A09PzH/+ctm3bYsyYMQCAoKAgLF++HIcPH0a5cuWUkODu7v6PLuc4ODjA1tYWGRkZL90/MDAQXbt2NWh75513lM/Hjx+PAwcO4Ntvv4Wvr+9fPgfPS05ORrt27ZCRkYHDhw/D2dn5H///c2zduhV6vR4bN26EjY0NKlWqhHv37mH06NGv/Fh5jQGHiIjeGFeuXEFGRgaaN2/+0m3VqlVTwg0A+Pv7Q6/XIzIy8pUCTtWqVZXPNRoNvLy8lDWWjK127doGX+t0OixatAjffvst7t+/j8zMTGRkZCgzBP/Vc/C83r17o0iRIvj111+VJRRe1ZUrV1C1alXY2NgobX5+fv/qsfIa78EhIqI3xr99o85hZmYGETFoe9mSAn+80Vej0eTaquvPBzIAWLp0KT7++GMEBQXh8OHDCA4ORqtWrZCZmQngnz8Hbdu2RWhoKE6dOmX0mt8EDDhERPTGKFOmDGxtbXHo0KEXtlWoUAEhISFISUlR2n777TeYmZmhXLlyAICCBQvi4cOHynadTofw8PBXqiHnnpuc9bz+6ff80/1/++03dOrUCf369UO1atVQsmRJREVFKdv/6jl43ujRo/H++++jY8eOOHr06D+u9XkVKlRAaGgo0tPTlbbTp0//q8fKaww4RET0xrCxsUFQUBCmTp2KLVu24MaNGzh9+jQ2btyIvn37wsbGBgMHDkR4eDgOHz6M8ePHo3///srlqWbNmuHHH3/Ejz/+iKtXr2L06NGIj49/pRo8PDxga2uL/fv3IzY2FgkJCX/7PcWLF0doaCgiIyPx+PHjv1yIskyZMjh48CBOnjyJK1euYOTIkYiNjf1Hz8EfjR8/HgsWLED79u1x4sSJV/p/AkCfPn2g0WgwfPhwREREYN++ffjwww9f+XFMgffgEBGR4k0YeTl79mxYWFhgzpw5ePDgAQoVKoRRo0bBzs4OBw4cwMSJE1GnTh3Y2dmhW7du+Oijj5TvHTJkCEJCQjBgwABYWFjg7bffRtOmTV/p51tYWGDlypWYN28e5syZg4YNG+LIkSN/+T3Dhw/HkSNHULt2bSQnJ+Pw4cMoXrz4S/edNWsWoqOj0apVK9jZ2WHEiBHo3LmzQZD6s+fgZQIDA6HX69G2bVvs378f9evX/8f/VwcHB+zZswejRo1CjRo1ULFiRXzwwQfo1q3bP34MU9HIHy9GvgESExPh7OyMhIQEODk55drP4TBxIlKr9PR03Lx5EyVKlDC4gZTov/qr3628ev8GeImKiIiIVIgBh4iI6D9ycHD404/jx4+bujzF119//ad1VqpUydTlGRXvwSEiIvqP/mrhzcKFC+ddIX+jY8eOqFu37ku3mXoNLGNjwCEiIvqPSpcubeoS/hFHR0c4Ojqauow8wUtURET52Bs4zoRec7k1IeKreuUenGPHjmHp0qW4cOECHj58iJ07d6Jz584AsmeDnDVrFvbt24fo6Gg4OzsjICAA77//Pry9vZXHePr0KcaPH489e/bAzMwM3bp1w8cffwwHBwej/ceIiOjPWVpaQqPR4NGjRyhYsCA0Go2pS6I3nIggMzMTjx49gpmZ2d8uQprbXjngpKSkoFq1ahgyZMgLi4Olpqbi4sWLmD17NqpVq4Znz55h4sSJ6NixI86fP6/s17dvXzx8+BAHDx6EVqvF4MGDMWLECGzduvW//4+IiOhvmZubo0iRIrh37x5u3bpl6nJIRezs7FCsWDGYmZn2ItF/mgdHo9EY9OC8zLlz5+Dr64vbt2+jWLFiuHLlCipWrIhz584pC4zt378fbdu2xb179wx6ev4M58H55zgPDhH9FZ1O95ez6hK9CnNzc1hYWPxpj2BezoOT6zcZJyQkQKPRwMXFBQBw6tQpuLi4GKyeGhAQADMzM5w5cwZdunR54TEyMjKQkZGhfJ2YmJjbZRMR5Qvm5uYwNzc3dRlERper/Ufp6ekICgpC7969laQWExMDDw8Pg/0sLCzg5uaGmJiYlz7O4sWL4ezsrHwULVo0N8smIiKiN1yuBRytVouePXtCRLB27dr/9FjTp09HQkKC8nH37l0jVUlERERqlCuXqHLCze3bt/Hrr78aXGfz8vJCXFycwf5ZWVl4+vQpvLy8Xvp41tbWsLa2zo1SiYiISIWM3oOTE26uXbuGX375Be7u7gbb/fz8EB8fjwsXLihtv/76K/R6/Z/OrkhERET0Kl65Byc5ORnXr19Xvr558yaCg4Ph5uaGQoUKoXv37rh48SL27t0LnU6n3Ffj5uYGKysrVKhQAa1bt8bw4cOxbt06aLVajBs3Dr169fpHI6iIiIiI/s4rB5zz58+jadOmyteTJk0CAAwcOBDvvvsudu/eDQCoXr26wfcdPnwYTZo0AZC92Ne4cePQvHlzZaK/lStX/sv/AhEREZGhVw44TZo0+cupvf/JtDpubm6c1I+IiIhyDdeiIiIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1WHAISIiItVhwCEiIiLVYcAhIiIi1XnlgHPs2DF06NAB3t7e0Gg02LVrl8F2EcGcOXNQqFAh2NraIiAgANeuXTPY5+nTp+jbty+cnJzg4uKCoUOHIjk5+T/9R4iIiIhyvHLASUlJQbVq1bB69eqXbl+yZAlWrlyJdevW4cyZM7C3t0erVq2Qnp6u7NO3b19cvnwZBw8exN69e3Hs2DGMGDHi3/8viIiIiJ5j8arf0KZNG7Rp0+al20QEK1aswKxZs9CpUycAwJYtW+Dp6Yldu3ahV69euHLlCvbv349z586hdu3aAIBVq1ahbdu2+PDDD+Ht7f3C42ZkZCAjI0P5OjEx8VXLJiIionzEqPfg3Lx5EzExMQgICFDanJ2dUbduXZw6dQoAcOrUKbi4uCjhBgACAgJgZmaGM2fOvPRxFy9eDGdnZ+WjaNGixiybiIiIVMaoAScmJgYA4OnpadDu6empbIuJiYGHh4fBdgsLC7i5uSn7/NH06dORkJCgfNy9e9eYZRMREZHKvPIlKlOwtraGtbW1qcsgIiKiN4RRe3C8vLwAALGxsQbtsbGxyjYvLy/ExcUZbM/KysLTp0+VfYiIiIj+C6MGnBIlSsDLywuHDh1S2hITE3HmzBn4+fkBAPz8/BAfH48LFy4o+/z666/Q6/WoW7euMcshIiKifOqVL1ElJyfj+vXrytc3b95EcHAw3NzcUKxYMQQGBmLBggUoU6YMSpQogdmzZ8Pb2xudO3cGAFSoUAGtW7fG8OHDsW7dOmi1WowbNw69evV66QgqIiIiolf1ygHn/PnzaNq0qfL1pEmTAAADBw7EF198galTpyIlJQUjRoxAfHw8GjRogP3798PGxkb5nq+//hrjxo1D8+bNYWZmhm7dumHlypVG+O8QERERARoREVMX8aoSExPh7OyMhIQEODk55drPKT7tx1x77Lxy6/12pi6BiIgIQN69fwNci4qIiIhUiAGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFSHAYeIiIhUhwGHiIiIVIcBh4iIiFTH6AFHp9Nh9uzZKFGiBGxtbVGqVCnMnz8fIqLsIyKYM2cOChUqBFtbWwQEBODatWvGLoWIiIjyKaMHnA8++ABr167FJ598gitXruCDDz7AkiVLsGrVKmWfJUuWYOXKlVi3bh3OnDkDe3t7tGrVCunp6cYuh4iIiPIhC2M/4MmTJ9GpUye0a9cOAFC8eHF88803OHv2LIDs3psVK1Zg1qxZ6NSpEwBgy5Yt8PT0xK5du9CrV68XHjMjIwMZGRnK14mJicYum4iIiFTE6D049evXx6FDhxAVFQUACAkJwYkTJ9CmTRsAwM2bNxETE4OAgADle5ydnVG3bl2cOnXqpY+5ePFiODs7Kx9FixY1dtlERESkIkbvwZk2bRoSExNRvnx5mJubQ6fTYeHChejbty8AICYmBgDg6elp8H2enp7Ktj+aPn06Jk2apHydmJjIkENERER/yugB59tvv8XXX3+NrVu3olKlSggODkZgYCC8vb0xcODAf/WY1tbWsLa2NnKlREREpFZGDzhTpkzBtGnTlHtpqlSpgtu3b2Px4sUYOHAgvLy8AACxsbEoVKiQ8n2xsbGoXr26scshIiKifMjo9+CkpqbCzMzwYc3NzaHX6wEAJUqUgJeXFw4dOqRsT0xMxJkzZ+Dn52fscoiIiCgfMnoPTocOHbBw4UIUK1YMlSpVwqVLl/DRRx9hyJAhAACNRoPAwEAsWLAAZcqUQYkSJTB79mx4e3ujc+fOxi6HiIiI8iGjB5xVq1Zh9uzZGDNmDOLi4uDt7Y2RI0dizpw5yj5Tp05FSkoKRowYgfj4eDRo0AD79++HjY2NscshIiKifEgjz08x/IZITEyEs7MzEhIS4OTklGs/p/i0H3PtsfPKrffbmboEIiIiAHn3/g1wLSoiIiJSIQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHQYcIiIiUh0LUxdA9E8Un/ajqUswilvvtzN1CURE+QJ7cIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1LExdABG9WYpP+9HUJRjFrffbmboEIspF7MEhIiIi1WHAISIiItVhwCEiIiLVyZWAc//+ffTr1w/u7u6wtbVFlSpVcP78eWW7iGDOnDkoVKgQbG1tERAQgGvXruVGKURERJQPGT3gPHv2DP7+/rC0tMRPP/2EiIgILFu2DK6urso+S5YswcqVK7Fu3TqcOXMG9vb2aNWqFdLT041dDhEREeVDRh9F9cEHH6Bo0aLYtGmT0laiRAnlcxHBihUrMGvWLHTq1AkAsGXLFnh6emLXrl3o1auXsUsiIiKifMboPTi7d+9G7dq10aNHD3h4eKBGjRrYsGGDsv3mzZuIiYlBQECA0ubs7Iy6devi1KlTL33MjIwMJCYmGnwQERER/RmjB5zo6GisXbsWZcqUwYEDBzB69GhMmDABmzdvBgDExMQAADw9PQ2+z9PTU9n2R4sXL4azs7PyUbRoUWOXTURERCpi9ICj1+tRs2ZNLFq0CDVq1MCIESMwfPhwrFu37l8/5vTp05GQkKB83L1714gVExERkdoYPeAUKlQIFStWNGirUKEC7ty5AwDw8vICAMTGxhrsExsbq2z7I2trazg5ORl8EBEREf0Zowccf39/REZGGrRFRUXBx8cHQPYNx15eXjh06JCyPTExEWfOnIGfn5+xyyEiIqJ8yOijqN5++23Ur18fixYtQs+ePXH27Fl8+umn+PTTTwEAGo0GgYGBWLBgAcqUKYMSJUpg9uzZ8Pb2RufOnY1dDhEREeVDRg84derUwc6dOzF9+nTMmzcPJUqUwIoVK9C3b19ln6lTpyIlJQUjRoxAfHw8GjRogP3798PGxsbY5RAREVE+lCuribdv3x7t27f/0+0ajQbz5s3DvHnzcuPHExERUT7HtaiIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1GHCIiIhIdRhwiIiISHUYcIiIiEh1cj3gvP/++9BoNAgMDFTa0tPTMXbsWLi7u8PBwQHdunVDbGxsbpdCRERE+USuBpxz585h/fr1qFq1qkH722+/jT179mDHjh04evQoHjx4gK5du+ZmKURERJSP5FrASU5ORt++fbFhwwa4uroq7QkJCdi4cSM++ugjNGvWDLVq1cKmTZtw8uRJnD59OrfKISIionwk1wLO2LFj0a5dOwQEBBi0X7hwAVqt1qC9fPnyKFasGE6dOvXSx8rIyEBiYqLBBxEREdGfsciNB922bRsuXryIc+fOvbAtJiYGVlZWcHFxMWj39PRETEzMSx9v8eLFeO+993KjVCIiIlIho/fg3L17FxMnTsTXX38NGxsbozzm9OnTkZCQoHzcvXvXKI9LRERE6mT0gHPhwgXExcWhZs2asLCwgIWFBY4ePYqVK1fCwsICnp6eyMzMRHx8vMH3xcbGwsvL66WPaW1tDScnJ4MPIiIioj9j9EtUzZs3R1hYmEHb4MGDUb58eQQFBaFo0aKwtLTEoUOH0K1bNwBAZGQk7ty5Az8/P2OXQ0SkWsWn/WjqEozi1vvtTF0CqZDRA46joyMqV65s0GZvbw93d3elfejQoZg0aRLc3Nzg5OSE8ePHw8/PD/Xq1TN2OURERJQP5cpNxn9n+fLlMDMzQ7du3ZCRkYFWrVphzZo1piiFiIiIVChPAs6RI0cMvraxscHq1auxevXqvPjxRERElM9wLSoiIiJSHQYcIiIiUh0GHCIiIlIdBhwiIiJSHZOMoiIiIlIbNcxLpKY5idiDQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RERKrDgENERESqw4BDREREqsOAQ0RE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" /></p>
</div>
<div class="output display_data">
<pre><code>&lt;Figure size 640x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<div id="6ca63b0c" class="cell markdown">
<p>Let&#39;s see what else is in the data by looking at all artists who have
more than 1 liked song.</p>
</div>
<div id="aaf9ea55" class="cell code" data-execution_count="65" data-scrolled="false">
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># display(num_tracks_per_artist[num_tracks_per_artist[count_track_id_str] &gt;= 2][[name_str, count_track_id_str]].head())</span></span></code></pre></div>
</div>
<div id="331b0453" class="cell markdown">
<p>Remove unneeded columns from the data and display to ensure it looks
as expected.</p>
</div>
<div id="b98e6f06" class="cell code" data-execution_count="66">
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>my_track_artists <span class="op">=</span> num_tracks_per_artist[[id_str, name_str, count_track_id_str]]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># display(my_track_artists.head())</span></span></code></pre></div>
</div>
<div id="ab159893" class="cell markdown">
<h3 id="timeline-of-when-tracked-are-liked-">Timeline of When Tracked
Are Liked <a name="timeline"></a></h3>
<p>Next up in our analysis, we ultimately a flat file to see how liked
artists&#39; track count has grown over time. One limitation of this
analysis is that we do not know when tracks are potentially
<em>unliked.</em> To do so, a pipeline could be developed to poll this
endpoint and create snapshots, but that is out of scope for this
application.</p>
</div>
<div id="237f26c1" class="cell markdown">
<p>In this block, we do some setup. We calculate all YYYY-MM formatted
dates for which the user liked songs, filling in dates where no songs
were liked along the way. Then, we create a template DataFrame for our
analysis with <em>all</em> dates for <em>all</em> artists.</p>
</div>
<div id="8b6c6ab0" class="cell code" data-execution_count="67">
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable setup</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>added_at_ym_str <span class="op">=</span> added_at_str <span class="op">+</span> <span class="st">&#39;_ym&#39;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>added_at_ymd_str <span class="op">=</span> added_at_ym_str <span class="op">+</span> <span class="st">&#39;d&#39;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull in the added_at field for each track</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>track_artists_df_with_added_at <span class="op">=</span> pd.merge(track_artists_df, my_tracks[[track_id_str, added_at_str]] <span class="op">\</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                                         , on <span class="op">=</span> track_id_str)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fields for added_at formatted as YYYY-MM and YYYY-MM-DD</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>track_artists_df_with_added_at[added_at_ym_str] <span class="op">=</span> track_artists_df_with_added_at[added_at_str].dt.strftime(<span class="st">&#39;%Y-%m&#39;</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>track_artists_df_with_added_at[added_at_ymd_str] <span class="op">=</span> track_artists_df_with_added_at[added_at_str].dt.date</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame of all YYYY-MM dates between the minimum added_at and maximum added_at</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>added_at_date_range_pd_series <span class="op">=</span> track_artists_df_with_added_at[added_at_ymd_str]</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>added_at_date_range_df <span class="op">=</span> pd.date_range(start <span class="op">=</span> added_at_date_range_pd_series.<span class="bu">min</span>() <span class="op">\</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>                                       , end <span class="op">=</span> added_at_date_range_pd_series.<span class="bu">max</span>()) <span class="op">\</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>                             .strftime(<span class="st">&#39;%Y-%m&#39;</span>).drop_duplicates() <span class="op">\</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>                             .to_frame().reset_index(drop <span class="op">=</span> <span class="va">True</span>).rename(columns <span class="op">=</span> {<span class="dv">0</span>: added_at_ym_str})</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co"># For each unique artist with tracks liked, create a DataFrame of all possible added_at YYYY-MM combinations</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co"># with that artist&#39;s information, and bind the rows of all DataFrames together</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>unique_artists_df <span class="op">=</span> track_artists_df_with_added_at[[id_str, name_str]].drop_duplicates().reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>unique_artists_all_dates_list <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, df_row <span class="kw">in</span> unique_artists_df.iterrows():</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>    tmp_unique_artist_base <span class="op">=</span> unique_artists_df.iloc[[i]].reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>    tmp_unique_artist <span class="op">=</span> pd.concat([added_at_date_range_df, tmp_unique_artist_base], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> curr_col <span class="kw">in</span> tmp_unique_artist_base.columns:</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>        tmp_unique_artist[curr_col].fillna(df_row[curr_col], inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>    unique_artists_all_dates_list.append(tmp_unique_artist)</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>unique_artists_all_dates_df <span class="op">=</span> pd.concat(unique_artists_all_dates_list).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span></code></pre></div>
</div>
<div id="069859c0" class="cell markdown">
<p>Here, we essentially fill-in the template we just created with liked
songs per YYYY-MM per artist.</p>
</div>
<div id="e2ca3c0d" class="cell code" data-execution_count="68">
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of liked songs per artist per YYYY-MM</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>artist_month_indexes <span class="op">=</span> [id_str, name_str, added_at_ym_str]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist_month <span class="op">=</span> track_artists_df_with_added_at.groupby(artist_month_indexes)[track_id_str].count() <span class="op">\</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                                        .to_frame().sort_values(added_at_ym_str) <span class="op">\</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                                        .reset_index().rename(columns <span class="op">=</span> {track_id_str: count_track_id_str})</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Outer merge with all possible liked song dates, and fill NAs with 0.</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist_month <span class="op">=</span> pd.merge(num_tracks_per_artist_month <span class="op">\</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>                                       , unique_artists_all_dates_df <span class="op">\</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                                       , on <span class="op">=</span> artist_month_indexes <span class="op">\</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                                       , how <span class="op">=</span> <span class="st">&#39;outer&#39;</span> \</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>                                       , sort <span class="op">=</span> <span class="va">True</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co"># display(num_tracks_per_artist_month.head())</span></span></code></pre></div>
</div>
<div id="21284edf" class="cell markdown">
<p>Now, it gets a little more interesting. We add a running sum to see
growth over time.</p>
</div>
<div id="4113429a" class="cell code" data-execution_count="69">
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a column that calculates the running sum of liked songs by ascending date for each artist.</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Data was sorted in the previous code block</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>runningsum_str <span class="op">=</span> <span class="st">&#39;runningsum&#39;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist_month[runningsum_str] <span class="op">=</span> num_tracks_per_artist_month.groupby([id_str])[count_track_id_str].cumsum()</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># display(num_tracks_per_artist_month.head())</span></span></code></pre></div>
</div>
<div id="ed1de93c" class="cell markdown">
<p>For the grand finale, we pivot the data so the dates are our columns,
using the running sum values for the pivot table.</p>
</div>
<div id="d3e5e9cb" class="cell code" data-execution_count="70">
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot the data</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist_month_pivot <span class="op">=</span> num_tracks_per_artist_month.pivot_table(values <span class="op">=</span> runningsum_str <span class="op">\</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                                                                           , index <span class="op">=</span> [id_str, name_str] <span class="op">\</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                                                                           , columns <span class="op">=</span> added_at_ym_str <span class="op">\</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                                                                           , fill_value <span class="op">=</span> <span class="dv">0</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># display(num_tracks_per_artist_month_pivot.head())</span></span></code></pre></div>
</div>
<div id="36d715be" class="cell markdown">
<p>Create the final CSV file for upload into other applications (see the
README).</p>
</div>
<div id="60ca4a08" class="cell code" data-execution_count="71">
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write out the final file</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>num_tracks_per_artist_month_pivot.reset_index(inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>spotify_write_df_to_data_out_csv(num_tracks_per_artist_month_pivot, <span class="st">&#39;num_tracks_per_artist_month_pivot_output&#39;</span>)</span></code></pre></div>
</div>
<div id="e0f648ad" class="cell markdown">
<h3 id="additional-api-exploration-">Additional API Exploration
<a name="additionalapiexploration"></a></h3>
<p>In this section, we preview other available data from the Spotify
API.</p>
</div>
<div id="c95871af" class="cell markdown">
<h4 id="long-term-top-tracks-">Long Term Top Tracks
<a name="longtermtoptracks"></a></h4>
<p>Identify what Spotify has determined to be the user&#39;s long term top
tracks by hitting the <code>/me/top/tracks</code> endpoint.</p>
</div>
<div id="afcea5da" class="cell code" data-execution_count="72">
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>my_long_term_top_tracks <span class="op">=</span> spotify_get_all_results(access_token <span class="op">\</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                                                 , <span class="ss">f&#39;</span><span class="sc">{</span>spotify_api_endpoint<span class="sc">}</span><span class="ss">me/top/tracks&#39;</span> \</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                                                 , <span class="st">&#39;application/json&#39;</span> \</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                                                 , query <span class="op">=</span> {<span class="st">&#39;time_range&#39;</span>: <span class="st">&#39;long_term&#39;</span>})</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment out the following line for personal uses</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>my_long_term_top_tracks[name_str] <span class="op">=</span> my_long_term_top_tracks[name_str].<span class="bu">apply</span>(<span class="bu">hash</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># display(my_long_term_top_tracks.head())</span></span></code></pre></div>
<div class="output display_data">
<div class="sourceCode" id="cb25"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span><span class="dt">&quot;model_id&quot;</span><span class="fu">:</span><span class="st">&quot;4b0af5ff662d48f7b02761ab5c215886&quot;</span><span class="fu">,</span><span class="dt">&quot;version_major&quot;</span><span class="fu">:</span><span class="dv">2</span><span class="fu">,</span><span class="dt">&quot;version_minor&quot;</span><span class="fu">:</span><span class="dv">0</span><span class="fu">}</span></span></code></pre></div>
</div>
</div>
<div id="880864b4" class="cell markdown">
<h4 id="followed-artists-">Followed Artists
<a name="followedartists"></a></h4>
<p>In this section, we will download the user&#39;s followed artists in the
Spotify application, and determine if any followed artists do not have
any liked songs.</p>
</div>
<div id="30fce548" class="cell markdown">
<p>First, let&#39;s call the <code>/me/following</code> endpoint to get the
user&#39;s followed artists, and then display the results.</p>
</div>
<div id="b1f24da4" class="cell code" data-execution_count="73">
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>my_followed_artists <span class="op">=</span> spotify_get_all_results(access_token <span class="op">\</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                                              , <span class="ss">f&#39;</span><span class="sc">{</span>spotify_api_endpoint<span class="sc">}</span><span class="ss">me/following&#39;</span> \</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                                              , <span class="st">&#39;application/json&#39;</span> \</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                                              , query <span class="op">=</span> {<span class="st">&#39;type&#39;</span>: <span class="st">&#39;artist&#39;</span>} <span class="op">\</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                                              , base_obj <span class="op">=</span> <span class="st">&#39;artists&#39;</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment out the following line for personal uses</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># my_followed_artists[name_str] = my_followed_artists[name_str].apply(hash)</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co"># display(my_followed_artists.head())</span></span></code></pre></div>
<div class="output display_data">
<div class="sourceCode" id="cb27"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span><span class="dt">&quot;model_id&quot;</span><span class="fu">:</span><span class="st">&quot;c8d89772cc7a410a9d08f9761199ef7e&quot;</span><span class="fu">,</span><span class="dt">&quot;version_major&quot;</span><span class="fu">:</span><span class="dv">2</span><span class="fu">,</span><span class="dt">&quot;version_minor&quot;</span><span class="fu">:</span><span class="dv">0</span><span class="fu">}</span></span></code></pre></div>
</div>
</div>
<div id="bd582ae1" class="cell markdown">
<p>Next, let&#39;s use an inner join to narrow down all of the user&#39;s liked
track artists to just the artists the user follows. In other words, we
obtain a DataFrame showing all of the artists that are both followed AND
have liked songs.</p>
</div>
<div id="2f582eeb" class="cell code" data-execution_count="74">
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>my_left <span class="op">=</span> my_track_artists</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>my_right <span class="op">=</span> my_followed_artists</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>my_followed_and_liked_artists_df <span class="op">=</span> pd.merge(my_left <span class="op">\</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>                                            , my_right <span class="op">\</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                                            , on <span class="op">=</span> id_str <span class="op">\</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                                            , how <span class="op">=</span> <span class="st">&#39;inner&#39;</span> \</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                                            , suffixes <span class="op">=</span> (<span class="st">&#39;&#39;</span>, <span class="st">&#39;_y&#39;</span>))[my_left.columns]</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co"># display(my_followed_and_liked_artists_df.head())</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_followed_and_liked_artists_df.shape)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>(34, 3)
</code></pre>
</div>
</div>
<div id="c2988b45" class="cell markdown">
<p>Next, we use Python&#39;s Set type to create unique groups of artist IDs.
We obtain all unique artist IDs with liked songs, all unique artist IDs
who are being followed, and all unique artist IDs who are being followed
and have liked songs.</p>
<p>We can then use set operations to obtain the individual pieces of
this Venn diagram and remove the overlaps. By doing so, we can determine
if there are artists we <strong>LIKE</strong> but do not
<strong>FOLLOW</strong>, or if there are artists we
<strong>FOLLOW</strong> that we do not <strong>LIKE.</strong></p>
</div>
<div id="9a0737ed" class="cell code" data-execution_count="75">
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Sets</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>my_track_artists_ids <span class="op">=</span> <span class="bu">set</span>(my_left[id_str])</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>my_followed_artists_ids <span class="op">=</span> <span class="bu">set</span>(my_right[id_str])</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>my_followed_and_liked_artists_ids <span class="op">=</span> <span class="bu">set</span>(my_followed_and_liked_artists_df[id_str])</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Use Set operations</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>my_unfollowed_track_artists_ids <span class="op">=</span> my_track_artists_ids <span class="op">-</span> my_followed_and_liked_artists_ids</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>my_followed_and_nonliked_artists_ids <span class="op">=</span> my_followed_artists_ids <span class="op">-</span> my_followed_and_liked_artists_ids</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> handle when my_followed_and_nonliked_artists_ids is non-empty</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect data</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>my_unfollowed_track_artists_df <span class="op">=</span> my_left[my_left[id_str].isin(my_unfollowed_track_artists_ids)]</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>my_top_unfollowed_artists_indices <span class="op">=</span> my_unfollowed_track_artists_df[count_track_id_str] <span class="op">&gt;</span> <span class="dv">2</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>my_top_unfollowed_artists_df <span class="op">=</span> my_unfollowed_track_artists_df[my_top_unfollowed_artists_indices] <span class="op">\</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>                                    .reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>my_top_unfollowed_artists_df[hash_str] <span class="op">=</span> my_top_unfollowed_artists_df[name_str].<span class="bu">apply</span>(<span class="bu">hash</span>)</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>display(my_top_unfollowed_artists_df[[hash_str, count_track_id_str]].head())</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_top_unfollowed_artists_df.shape)</span></code></pre></div>
<div class="output display_data">
<div>
<style scoped>
.dataframe tbody tr th:only-of-type {
vertical-align: middle;
}
.dataframe tbody tr th {
vertical-align: top;
}
.dataframe thead th {
text-align: right;
}
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hash</th>
      <th>count_track_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-6471982243511530472</td>
      <td>23</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7921999468236018644</td>
      <td>16</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8397532844039618378</td>
      <td>9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2031344645595867078</td>
      <td>9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-4667866116276490227</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<div class="output stream stdout">
<pre><code>(69, 4)
</code></pre>
</div>
</div>
<div id="73dee84a" class="cell code">
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
</div>
</body>
</html>
